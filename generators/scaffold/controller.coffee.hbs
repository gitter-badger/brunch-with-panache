Controller = require('controllers/base/controller')
{{#camelize}}{{name}}{{/camelize}} = require('models/{{name}}')
{{#camelize}}{{pluralName}}{{/camelize}} = require('models/{{pluralName}}')
{{#camelize}}{{name}}{{/camelize}}View = require('views/{{name}}/{{name}}-view')
{{#camelize}}{{name}}{{/camelize}}CollectionView = require('views/{{name}}/{{name}}-collection-view')

module.exports = class {{#camelize}}{{name}}{{/camelize}}Controller extends Controller
  index: ->
    @collection = new {{#camelize}}{{pluralName}}{{/camelize}}
    @view = new {{#camelize}}{{name}}{{/camelize}}CollectionView {@collection}
    @collection.fetch().then @view.render

  show: (params) ->
    @model = new {{#camelize}}{{name}}{{/camelize}} {id: params.id}
    @view = new {{#camelize}}{{name}}{{/camelize}}View {@model}
    @model.fetch().then @view.render
