Controller = require 'controllers/base/controller'
{{#camelize}}{{name}}{{/camelize}} = require 'models/{{name}}'
{{#camelize}}{{name}}{{/camelize}}PageView = require 'views/{{name}}/{{name}}-page-view'
{{#camelize}}{{pluralName}}{{/camelize}} = require 'models/{{pluralName}}'
{{#camelize}}{{pluralName}}{{/camelize}}CollectionView = require 'views/{{name}}/{{pluralName}}-collection-view'

module.exports = class {{#camelize}}{{pluralName}}{{/camelize}}Controller extends Controller

  index: ->
    @collection = new {{#camelize}}{{pluralName}}{{/camelize}}
    @view = new {{#camelize}}{{pluralName}}{{/camelize}}CollectionView {@collection}
    @collection.fetch().then @view.render

  show: (params) ->
    @model = new {{#camelize}}{{name}}{{/camelize}} id: params.id
    @view = new {{#camelize}}{{name}}{{/camelize}}PageView {@model}
    @model.fetch().then @view.render
